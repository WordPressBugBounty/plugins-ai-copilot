/*! For license information please see 343.js.LICENSE.txt */
(globalThis.webpackChunkaicp_components=globalThis.webpackChunkaicp_components||[]).push([[343],{343:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var n=s(87),a=s(723),r=s(692),i=s(143),o=s(138),c=s(379),u=s(559),l=s(485),p=s(892),d=s.n(p),_=(s(428),s(640)),f=s(413);(0,a.__)("User","ai-copilot"),(0,a.__)("External","ai-copilot");const h={model:"gpt-4o-mini",assistant_post_type:["all"],assistant_vector_store_labels:[],assistant_vector_store_ids:[],visibility:{entries:{post:{include:1,ids:[]},page:{include:1,ids:[]}},taxonomies:{category:{include:1,ids:[]},post_tag:{include:1,ids:[]}},target:{include:1,ids:[]},devices:"all"}},g={...h,assistant_label:"QuadLayers Bot",assistant_description:"Ask about any QuadLayers product.",assistant_first_message:"Hi! How can I help you?",prompt_system:'You are a sales assistant inside a chat designed to help customers find products and services offered by QuadLayers. \n\nQuadLayers is a company specializing in the development of plugins for WordPress. Your goal is to provide the information inside the documents and guide the customer towards a successful purchase.\n\nAbout QuadLayers:\n- Website: www.quadlayers.com\n- Support: www.quadlayers.com/account/support\n- Typical Customers: QuadLayers’ customers usually include website owners, developers, and small businesses looking to enhance the functionality and design of their WordPress sites.\n- Value Proposition: QuadLayers stands out by offering high-quality WordPress plugins, efficient technical support, and regular updates to ensure compatibility with the latest versions of WordPress.\n\nYour Objectives:\n- Product Information: Provide clear and concise details about QuadLayers’ plugins.\n- Sales: Guide the customer towards purchasing products or services based on their needs.\n- Support Redirection: Any inquiries related to technical support should be redirected to the official support website.\n\nYour Dialogue Guidelines:\n- Sales Focus: Prioritize selling products and services that align with the customer\'s needs. Ask relevant questions to identify their preferences.\n- Tone and Language: Use a friendly, professional, and customer-oriented tone. Be clear and direct in your communication.\n- Response: Provide concise answers, each no longer than 300 characters.\n\nYour Restrictions:\n- Don\'t play games.\n- Respect personal privacy.\n- Do not request or share personal information.\n- Provide only known information. If you are unsure about something, direct the customer to the website.\n- I\'f the query of the user is not related to the scope of this instructions, direct the customer to the website.\n\nProducts:\n- "item_title": contains the name of the plugin or product.\n- "item_content": contains the description of product or plugin.\n- "item_link" contains the link to the product or plugin.'},y=()=>{const{files:t,setFiles:e}=(0,_.useApiFile)(),{createVectorStore:s}=(0,f.useApiVectorStore)(),{createAssistant:r}=(0,c.useApiAssistant)(),[i,u]=(0,n.useState)(null);return{createTestAssistant:async()=>{u(null);try{const n=await(async()=>{try{const s=await(0,_.fetchRestApiFilesExampleFile)({method:"GET"});if(!s)throw new Error((0,a.__)("An error occurred while uploading the file to Wordpress, please try again","ai-copilot"));const{attachment_id:n}=s,r=await(0,c.fetchRestApiAssistantFiles)({method:"POST",data:{file_label:"Vehicle Products File Example",file_description:"This document contains detailed information on vehicle products.",post_types:["product"]},attachment_id:n});if(r.code)throw new Error((0,a.__)("An error occurred while uploading the file to OpenAI, please try again","ai-copilot"));return(0,o.createNotice)((0,a.__)("The file has been created successfully.","ai-copilot")),e([...t,{...r,assistants:[]}]),r.openai_id}catch(t){u(t.message),(0,o.createNotice)(t.message)}})();if(!n)return;const i=await(async t=>{try{return(await s({vector_store_label:"Knowledge / QuadLayers",vector_store_description:"Knowledge base of QuadLayers products.",vector_store_files_ids:[t]})).openai_id}catch(t){u(t.message),(0,o.createNotice)(t.message)}})(n);if(!i)return;await r({...g,assistant_vector_store_ids:[i]})}catch(t){u(t.message),(0,o.createNotice)(t.message)}},checkIfTestAssistantExists:t=>{if(!t.length)return!1;const e=t.find((({assistant_label:t})=>t===g.assistant_label));if(!e)return!1;const s=JSON.stringify({assistant_label:e.assistant_label,assistant_description:e.assistant_description,prompt_system:e.prompt_system,assistant_first_message:e.assistant_first_message}),n=JSON.stringify({assistant_label:g.assistant_label,assistant_description:g.assistant_description,prompt_system:g.prompt_system,assistant_first_message:g.assistant_first_message});return d()(s)===d()(n)},error:i}};function m({values:t,onChange:e}){const{createTestAssistant:s,checkIfTestAssistantExists:p}=y(),{syncFiles:d}=(0,_.useApiFile)(),{syncVectorStores:g}=(0,f.useApiVectorStore)(),[m,b]=(0,n.useState)(!1),[v,w]=(0,n.useState)(""),{assistants:A,createAssistant:T,syncAssistants:S}=(0,c.useApiAssistant)(),{assistant_label:E}=t,k=(0,n.useMemo)((()=>A.filter((t=>t.openai_id&&t.assistant_label.toLowerCase().includes(v.toLowerCase())))),[A,v]),B=p(A),x=A.length>=1;return(0,n.createElement)("div",{className:"aicp__panels__template"},0!==A.length&&(0,n.createElement)(u.A,{optionlabel:E,classNames:"aicp__panels__assistant__current",options:k,search:v,selectedOption:t.assistant_id,onChangeSearch:w,handleSelectOption:t=>s=>{s.preventDefault();const n=A.find((e=>e.assistant_id===t));e({...n})},keyValue:"assistant_id",keyLabel:"assistant_label"}),(0,n.createElement)("div",null,(0,n.createElement)("button",{className:"button button-primary secondary aicp__panels__assistant__button",onClick:async t=>{t.preventDefault(),b(!0);const s={...h,assistant_label:(0,a.__)("New Assistant","ai-copilot"),assistant_description:(0,a.__)("Description for New Assistant","ai-copilot"),prompt_system:(0,a.__)("Instructions for New Assistant","ai-copilot"),assistant_origin:"user",model:"gpt-3.5-turbo"};void 0!==s&&0!==Object.keys(s).length?(await T(s).then((t=>{e({...t})})),b(!1)):(0,i.dispatch)(r.store).createErrorNotice((0,a.__)("An issue occurred while creating the assistant.","ai-copilot"),{type:"snackbar"})},disabled:m||o.AICP_IS_FREE},(0,a.__)("+ Assistant","ai-copilot")),(0,n.createElement)("button",{className:"button button-secondary secondary aicp__panels__assistant__button--last-button",onClick:async t=>{t.preventDefault(),b(!0),await s(),await d(),await g(),await S(),e({...A[A.length-1]}),b(!1)},disabled:m||B||x},(0,a.__)("+ Example","ai-copilot")),m&&(0,n.createElement)(l.A,{className:"aicp__panels__assistant__spinner"})))}},445:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},539:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],s=0;s<t.length;s++)e.push(255&t.charCodeAt(s));return e},bytesToString:function(t){for(var e=[],s=0;s<t.length;s++)e.push(String.fromCharCode(t[s]));return e.join("")}}};t.exports=e},635:t=>{var e,s;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&s.rotl(t,8)|4278255360&s.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=s.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],s=0,n=0;s<t.length;s++,n+=8)e[n>>>5]|=t[s]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],s=0;s<32*t.length;s+=8)e.push(t[s>>>5]>>>24-s%32&255);return e},bytesToHex:function(t){for(var e=[],s=0;s<t.length;s++)e.push((t[s]>>>4).toString(16)),e.push((15&t[s]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],s=0;s<t.length;s+=2)e.push(parseInt(t.substr(s,2),16));return e},bytesToBase64:function(t){for(var s=[],n=0;n<t.length;n+=3)for(var a=t[n]<<16|t[n+1]<<8|t[n+2],r=0;r<4;r++)8*n+6*r<=8*t.length?s.push(e.charAt(a>>>6*(3-r)&63)):s.push("=");return s.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],n=0,a=0;n<t.length;a=++n%4)0!=a&&s.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(t.charAt(n))>>>6-2*a);return s}},t.exports=s},892:(t,e,s)=>{var n,a,r,i,o;n=s(635),a=s(539).utf8,r=s(445),i=s(539).bin,(o=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?i.stringToBytes(t):a.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=n.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,p=-1732584194,d=271733878,_=0;_<s.length;_++)s[_]=16711935&(s[_]<<8|s[_]>>>24)|4278255360&(s[_]<<24|s[_]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var f=o._ff,h=o._gg,g=o._hh,y=o._ii;for(_=0;_<s.length;_+=16){var m=u,b=l,v=p,w=d;u=f(u,l,p,d,s[_+0],7,-680876936),d=f(d,u,l,p,s[_+1],12,-389564586),p=f(p,d,u,l,s[_+2],17,606105819),l=f(l,p,d,u,s[_+3],22,-1044525330),u=f(u,l,p,d,s[_+4],7,-176418897),d=f(d,u,l,p,s[_+5],12,1200080426),p=f(p,d,u,l,s[_+6],17,-1473231341),l=f(l,p,d,u,s[_+7],22,-45705983),u=f(u,l,p,d,s[_+8],7,1770035416),d=f(d,u,l,p,s[_+9],12,-1958414417),p=f(p,d,u,l,s[_+10],17,-42063),l=f(l,p,d,u,s[_+11],22,-1990404162),u=f(u,l,p,d,s[_+12],7,1804603682),d=f(d,u,l,p,s[_+13],12,-40341101),p=f(p,d,u,l,s[_+14],17,-1502002290),u=h(u,l=f(l,p,d,u,s[_+15],22,1236535329),p,d,s[_+1],5,-165796510),d=h(d,u,l,p,s[_+6],9,-1069501632),p=h(p,d,u,l,s[_+11],14,643717713),l=h(l,p,d,u,s[_+0],20,-373897302),u=h(u,l,p,d,s[_+5],5,-701558691),d=h(d,u,l,p,s[_+10],9,38016083),p=h(p,d,u,l,s[_+15],14,-660478335),l=h(l,p,d,u,s[_+4],20,-405537848),u=h(u,l,p,d,s[_+9],5,568446438),d=h(d,u,l,p,s[_+14],9,-1019803690),p=h(p,d,u,l,s[_+3],14,-187363961),l=h(l,p,d,u,s[_+8],20,1163531501),u=h(u,l,p,d,s[_+13],5,-1444681467),d=h(d,u,l,p,s[_+2],9,-51403784),p=h(p,d,u,l,s[_+7],14,1735328473),u=g(u,l=h(l,p,d,u,s[_+12],20,-1926607734),p,d,s[_+5],4,-378558),d=g(d,u,l,p,s[_+8],11,-2022574463),p=g(p,d,u,l,s[_+11],16,1839030562),l=g(l,p,d,u,s[_+14],23,-35309556),u=g(u,l,p,d,s[_+1],4,-1530992060),d=g(d,u,l,p,s[_+4],11,1272893353),p=g(p,d,u,l,s[_+7],16,-155497632),l=g(l,p,d,u,s[_+10],23,-1094730640),u=g(u,l,p,d,s[_+13],4,681279174),d=g(d,u,l,p,s[_+0],11,-358537222),p=g(p,d,u,l,s[_+3],16,-722521979),l=g(l,p,d,u,s[_+6],23,76029189),u=g(u,l,p,d,s[_+9],4,-640364487),d=g(d,u,l,p,s[_+12],11,-421815835),p=g(p,d,u,l,s[_+15],16,530742520),u=y(u,l=g(l,p,d,u,s[_+2],23,-995338651),p,d,s[_+0],6,-198630844),d=y(d,u,l,p,s[_+7],10,1126891415),p=y(p,d,u,l,s[_+14],15,-1416354905),l=y(l,p,d,u,s[_+5],21,-57434055),u=y(u,l,p,d,s[_+12],6,1700485571),d=y(d,u,l,p,s[_+3],10,-1894986606),p=y(p,d,u,l,s[_+10],15,-1051523),l=y(l,p,d,u,s[_+1],21,-2054922799),u=y(u,l,p,d,s[_+8],6,1873313359),d=y(d,u,l,p,s[_+15],10,-30611744),p=y(p,d,u,l,s[_+6],15,-1560198380),l=y(l,p,d,u,s[_+13],21,1309151649),u=y(u,l,p,d,s[_+4],6,-145523070),d=y(d,u,l,p,s[_+11],10,-1120210379),p=y(p,d,u,l,s[_+2],15,718787259),l=y(l,p,d,u,s[_+9],21,-343485551),u=u+m>>>0,l=l+b>>>0,p=p+v>>>0,d=d+w>>>0}return n.endian([u,l,p,d])})._ff=function(t,e,s,n,a,r,i){var o=t+(e&s|~e&n)+(a>>>0)+i;return(o<<r|o>>>32-r)+e},o._gg=function(t,e,s,n,a,r,i){var o=t+(e&n|s&~n)+(a>>>0)+i;return(o<<r|o>>>32-r)+e},o._hh=function(t,e,s,n,a,r,i){var o=t+(e^s^n)+(a>>>0)+i;return(o<<r|o>>>32-r)+e},o._ii=function(t,e,s,n,a,r,i){var o=t+(s^(e|~n))+(a>>>0)+i;return(o<<r|o>>>32-r)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var s=n.wordsToBytes(o(t,e));return e&&e.asBytes?s:e&&e.asString?i.bytesToString(s):n.bytesToHex(s)}}}]);